<app-navbar></app-navbar>

<!-- NOTE: Only show EDIT BIO and SAVE buttons if current user is on their own profile -->

<div class="container-fluid">

  <div class="row">
    <div class="col-md-4 offset-md-4">
    <section id="profile-hero" class="col">

      <form>
      <fieldset class="form-group">


        <div *ngIf="!currentUser.image">

            <img [src]="imagePreviewUrl" class="profile-picture" alt="">

        </div>

        <div *ngIf="currentUser.image">

            <img src="/{{currentUser.image.path}}" class="profile-picture">

        </div>

        <!-- <button type="button" name="button" (click)="edit()"></button> -->
        <!-- <div *ngIf="editCheck"> -->

          <input type="file" name="avatar" ng2FileSelect [uploader]="uploader" (change)="readUrl($event)"/>
          <button type="button" name="button" (click)="saveAvatar()">Save Image</button>
          <div class="progress" style="">
              <div class="progress-bar" role="progressbar" [ngStyle]="{ 'width': uploader.progress + '%' }"></div>
          </div>

          <!-- <p>Queue length: {{ uploader?.queue?.length }}</p> -->
          <!-- Queue progress:
                     <div class="progress" style="">
                         <div class="progress-bar" role="progressbar" [ngStyle]="{ 'width': uploader.progress + '%' }"></div>
                     </div> -->

        <!-- </div> -->

      </fieldset>
      </form>



    </section>
  </div>
</div>

<hr>

<div class="row">
  <section id="about-info" class="col">
    <div class="col-md-6 offset-md-3">

      <form>
        <fieldset class="form-group">
          <label for="about">About Me</label>
          <input type="text" class="form-control" [(ngModel)]="currentUser.aboutText" placeholder="Tell the community something about yourself." name="about">
        </fieldset>

          <!-- <button *ngIf="isAuth" type="button" name="button" class="btn btn-info">EDIT BIO</button> -->
          <button type="submit" class="btn btn-primary" ng-click="submitted=true" id="saveButton" (click)="updateProfile()">Save</button>
      </form>

    </div>
  </section>
</div>

</div>
